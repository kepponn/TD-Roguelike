[gd_scene load_steps=19 format=3 uid="uid://dfa3wfjb564fn"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_5f771"]
[ext_resource type="AudioStream" uid="uid://bqjlvqns16fqg" path="res://assets/audio/sfx/select-sound-121244.mp3" id="2_37d4i"]
[ext_resource type="AudioStream" uid="uid://boiiw07obg4ex" path="res://assets/audio/sfx/engine-47745.mp3" id="3_10coj"]
[ext_resource type="AudioStream" uid="uid://dv1fwgav2ido6" path="res://assets/audio/sfx/happy-pop-1-185286.mp3" id="3_q3rnf"]
[ext_resource type="AudioStream" uid="uid://ou6mtp1fcx2f" path="res://assets/audio/sfx/happy-pop-2-185287.mp3" id="4_trxeb"]
[ext_resource type="AudioStream" uid="uid://btfe53ybfx073" path="res://assets/audio/sfx/happy-pop-3-185288.mp3" id="5_lvbuv"]
[ext_resource type="AudioStream" uid="uid://benfdpyeb1uyp" path="res://assets/audio/bgm/game-music-loop-7-145285.mp3" id="6_j0knx"]
[ext_resource type="AudioStream" uid="uid://dw3p4b28eq11x" path="res://assets/audio/bgm/game-music-loop-1-143979.mp3" id="7_pe7fx"]
[ext_resource type="PackedScene" uid="uid://80irjlgbwnaj" path="res://models/player_body.glb" id="8_fyt44"]
[ext_resource type="PackedScene" uid="uid://dmxrpotyckunr" path="res://models/player_hand.glb" id="9_l7nuk"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pgh5w"]
albedo_color = Color(0.403922, 0.403922, 0.403922, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_pqfoc"]
material = SubResource("StandardMaterial3D_pgh5w")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ebtej"]
albedo_color = Color(0.960784, 0.564706, 0.376471, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_lthf8"]
material = SubResource("StandardMaterial3D_ebtej")

[sub_resource type="CylinderShape3D" id="CylinderShape3D_3nlo6"]
height = 0.5
radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_edi7k"]
blend_mode = 1
albedo_color = Color(0.0588235, 0.764706, 0, 0.239216)

[sub_resource type="CylinderMesh" id="CylinderMesh_i5sef"]
material = SubResource("StandardMaterial3D_edi7k")
top_radius = 1.0
bottom_radius = 1.0
height = 0.1

[sub_resource type="CylinderShape3D" id="CylinderShape3D_fojnu"]

[node name="Player" type="CharacterBody3D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_5f771")

[node name="Audio" type="Node" parent="."]

[node name="SelectSfx" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("2_37d4i")
bus = &"Effect"

[node name="MoveSfx" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("3_10coj")
volume_db = -5.0
autoplay = true
bus = &"Effect"

[node name="Pop" type="Node" parent="Audio"]

[node name="PopSfx1" type="AudioStreamPlayer" parent="Audio/Pop"]
stream = ExtResource("3_q3rnf")
bus = &"Effect"

[node name="PopSfx2" type="AudioStreamPlayer" parent="Audio/Pop"]
stream = ExtResource("4_trxeb")
bus = &"Effect"

[node name="PopSfx3" type="AudioStreamPlayer" parent="Audio/Pop"]
stream = ExtResource("5_lvbuv")
bus = &"Effect"

[node name="Bgm" type="Node" parent="Audio"]

[node name="Preparation" type="AudioStreamPlayer" parent="Audio/Bgm"]
stream = ExtResource("6_j0knx")
volume_db = -7.0
bus = &"Music"

[node name="Defending" type="AudioStreamPlayer" parent="Audio/Bgm"]
stream = ExtResource("7_pe7fx")
volume_db = -7.0
bus = &"Music"

[node name="Node3D" type="Node3D" parent="."]

[node name="Models" type="Node3D" parent="Node3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)

[node name="Body" type="Node3D" parent="Node3D/Models"]

[node name="player_body" parent="Node3D/Models/Body" instance=ExtResource("8_fyt44")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.432047, 0)

[node name="Hand" type="Node3D" parent="Node3D/Models"]
transform = Transform3D(1, 0, 0, 0, 0.596547, -0.802578, 0, 0.802578, 0.596547, 0, 0.382753, 0)

[node name="player_hand" parent="Node3D/Models/Hand" instance=ExtResource("9_l7nuk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.83089, 0)

[node name="Body" type="MeshInstance3D" parent="Node3D"]
visible = false
mesh = SubResource("CapsuleMesh_pqfoc")
skeleton = NodePath("../..")

[node name="Face" type="MeshInstance3D" parent="Node3D"]
transform = Transform3D(0.617571, 0, 0, 0, 0.15997, 0, 0, 0, 0.627695, 0.354745, 0.434902, 0)
visible = false
mesh = SubResource("CylinderMesh_lthf8")
skeleton = NodePath("../../..")

[node name="Interaction Zone" type="Area3D" parent="Node3D"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -0.161922, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/Interaction Zone"]
shape = SubResource("CylinderShape3D_3nlo6")

[node name="Holded Item" type="Node3D" parent="Node3D"]
unique_name_in_owner = true

[node name="Item Range" type="MeshInstance3D" parent="Node3D/Holded Item"]
process_mode = 4
visible = false
mesh = SubResource("CylinderMesh_i5sef")

[node name="Placement Item" type="Node3D" parent="Node3D"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.9, 0, 0, 0, 0.9, 0, 0, 0, 0.9, 0, 0, 0)
shape = SubResource("CylinderShape3D_fojnu")

[connection signal="body_entered" from="Node3D/Interaction Zone" to="." method="_on_interaction_zone_body_entered"]
[connection signal="body_exited" from="Node3D/Interaction Zone" to="." method="_on_interaction_zone_body_exited"]
